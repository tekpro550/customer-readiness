<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Tittu • Customer Readiness</title>
<meta name="color-scheme" content="light dark">
<style>
  :root {
    --bg: #0f1221;
    --bg2: #13162b;
    --card: #161a33;
    --ink: #e7e9f7;
    --muted: #a7add6;
    --brand: #6ea3ff;
    --brand-ink: #0b1220;
    --accent: #7cf7d4;
    --ok: #65da8b;
    --warn: #ff9b6e;
    --err: #ff6e6e;
    --ring: rgba(110,163,255,.45);
    --shadow: 0 10px 30px rgba(7,10,22,.45);
    --card-b: rgba(255,255,255,.08);
    --soft: rgba(255,255,255,.04);
    --chip: rgba(255,255,255,.06);
    --surface: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  }
  .light {
    --bg: #f6f8ff;
    --bg2: #eef2ff;
    --card: #ffffff;
    --ink: #1b2340;
    --muted: #5b6385;
    --brand: #2b73ff;
    --brand-ink: #ffffff;
    --accent: #05c3a7;
    --ok: #16a34a;
    --warn: #ea580c;
    --err: #dc2626;
    --ring: rgba(43,115,255,.25);
    --shadow: 0 12px 24px rgba(27,35,64,.12);
    --card-b: #e7ebff;
    --soft: #f4f6ff;
    --chip: #eef2ff;
    --surface: linear-gradient(180deg, #ffffff, #f6f8ff);
  }
  * { box-sizing: border-box; }
  html, body { height: 100%; }
  body {
    margin: 0;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    background:
      radial-gradient(1000px 600px at 10% -10%, rgba(110,163,255,.25), transparent 60%),
      radial-gradient(1000px 600px at 90% -10%, rgba(124,247,212,.18), transparent 60%),
      var(--bg);
    color: var(--ink);
    line-height: 1.55;
  }
  .wrap { max-width: 1100px; margin: 0 auto; padding: 20px; }
  header.hero {
    position: sticky; top: 0; z-index: 50;
    backdrop-filter: saturate(140%) blur(8px);
    background: linear-gradient(180deg, rgba(15,18,33,.85), rgba(15,18,33,.6));
    border-bottom: 1px solid var(--card-b);
  }
  .light header.hero { background: linear-gradient(180deg, rgba(255,255,255,.8), rgba(255,255,255,.6)); }
  .hero-inner { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
  .brand { display: flex; align-items: center; gap: 12px; }
  .logo {
    width: 36px; height: 36px; border-radius: 10px;
    background: linear-gradient(135deg, var(--brand), var(--accent));
    box-shadow: var(--shadow);
  }
  h1 { font-size: 20px; margin: 0; }
  .progressbar { flex: 1; height: 10px; background: var(--chip); border-radius: 999px; overflow: hidden; margin: 10px 16px; border: 1px solid var(--card-b); }
  .bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--brand), var(--accent)); transition: width .3s ease; }
  .theme-toggle { border: 1px solid var(--card-b); background: var(--chip); padding: 8px 10px; border-radius: 999px; color: var(--ink); cursor: pointer; }
  main { padding-top: 16px; }
  .grid { display: grid; gap: 16px; grid-template-columns: 320px 1fr; }
  @media (max-width: 960px) { .grid { grid-template-columns: 1fr; } }
  .side {
    position: sticky; top: 70px; align-self: start;
    background: var(--surface); border: 1px solid var(--card-b); border-radius: 16px; padding: 14px;
    box-shadow: var(--shadow);
  }
  .stat { display: grid; gap: 6px; }
  .stat-row { display: flex; justify-content: space-between; font-size: 13px; color: var(--muted); }
  .pill { display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; border-radius: 999px; font-size: 12px; border: 1px solid var(--card-b); background: var(--chip); }
  .pill.ok { color: var(--ok); border-color: rgba(101,218,139,.3); }
  .pill.warn { color: var(--warn); border-color: rgba(255,155,110,.35); }
  .pill.err { color: var(--err); border-color: rgba(255,110,110,.35); }
  .card {
    background: var(--surface);
    border: 1px solid var(--card-b); border-radius: 18px; padding: 18px;
    box-shadow: var(--shadow);
  }
  .card h2 { margin: 0 0 10px; font-size: 18px; display: flex; align-items: center; gap: 8px; }
  .items { display: grid; gap: 12px; }
  .item {
    border: 1px solid var(--card-b);
    background: var(--soft);
    border-radius: 14px; padding: 12px;
  }
  .row { display: grid; gap: 10px; grid-template-columns: 1fr 1fr; }
  @media (max-width: 700px) { .row { grid-template-columns: 1fr; } }
  label { font-weight: 600; font-size: 14px; display: block; margin-bottom: 6px; }
  select, input[type="text"], input[type="email"], input[type="url"], input[type="tel"] {
    width: 100%; padding: 10px 12px; border-radius: 12px; border: 1px solid var(--card-b);
    background: #ffffff0d; color: var(--ink);
    outline: none; box-shadow: 0 0 0 0 rgba(0,0,0,0);
  }
  .light select, .light input { background: #fff; }
  select:focus, input:focus { box-shadow: 0 0 0 6px var(--ring); }
  .hint { font-size: 12px; color: var(--muted); margin-top: 6px; }
  .btns { display: flex; flex-wrap: wrap; gap: 10px; }
  .btn {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 10px 14px; border-radius: 12px; text-decoration: none; border: 1px solid var(--card-b);
    background: var(--chip); color: var(--ink); cursor: pointer;
  }
  .btn.primary { background: linear-gradient(135deg, var(--brand), var(--accent)); color: var(--brand-ink); border: none; }
  .btn.ghost { background: transparent; }
  .btn:disabled { opacity: .6; cursor: not-allowed; }
  .footer-cta {
    position: sticky; bottom: 0; z-index: 40;
    padding: 12px 0; margin-top: 16px;
    background: linear-gradient(180deg, rgba(15,18,33,0), var(--bg2) 30%);
    border-top: 1px solid var(--card-b);
    backdrop-filter: blur(6px);
  }
  .statusBox { display: grid; gap: 8px; }
  .statusText { font-size: 14px; color: var(--muted); }
  .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 12px; background: var(--chip); padding: 2px 6px; border-radius: 6px; border: 1px solid var(--card-b); }
  .checklist { display: grid; gap: 16px; }
  .icon { width: 18px; height: 18px; }
  .badge { display: inline-flex; align-items: center; gap: 6px; padding: 4px 8px; border-radius: 999px; font-size: 11px; border: 1px solid var(--card-b); background: var(--chip); }
  .ghost-sep { height: 1px; background: var(--card-b); opacity: .6; margin: 6px 0; }
</style>
</head>
<body class="light" id="body">
  <header class="hero">
    <div class="wrap hero-inner">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <h1>Tittu • Customer Readiness</h1>
          <div class="badge"><svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M5 12l4 4L19 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg> WhatsApp Business Platform onboarding</div>
        </div>
      </div>
      <div class="progressbar"><div class="bar" id="bar"></div></div>
      <button id="theme" class="theme-toggle" title="Toggle theme">Toggle theme</button>
    </div>
  </header>

  <main class="wrap grid">
    <aside class="side">
      <div class="stat">
        <div class="stat-row"><span>Checklist complete</span><span id="pct">0%</span></div>
        <div class="stat-row"><span>Items ready</span><span id="count">0 of 12</span></div>
      </div>
      <div class="ghost-sep"></div>
      <div class="statusBox">
        <div id="statusPill" class="pill warn">Action needed</div>
        <div id="statusText" class="statusText">Complete the checklist to see your onboarding decision.</div>
      </div>
      <div class="ghost-sep"></div>
      <div class="btns">
        <button class="btn" id="save">Save</button>
        <button class="btn ghost" id="reset">Reset</button>
        <button class="btn ghost" id="print">Print</button>
        <button class="btn primary" id="export" disabled>Export report</button>
      </div>
    </aside>

    <section class="checklist">
      <div class="card">
        <h2>Business identity</h2>
        <div class="items">
          <div class="item">
            <div class="row">
              <div>
                <label for="docType">Registration document</label>
                <select id="docType">
                  <option value="">Select a document</option>
                  <option>GST certificate</option>
                  <option>UDYAM MSME registration</option>
                  <option>Certificate of incorporation</option>
                  <option>Bank statement</option>
                  <option>Tax document</option>
                  <option>Other</option>
                  <option>Not available</option>
                </select>
              </div>
              <div>
                <label for="docOther">If Other, specify</label>
                <input id="docOther" type="text" placeholder="Type document name" />
              </div>
            </div>
            <div class="hint">Pick the exact document you have. <span class="kbd">Other</span> or <span class="kbd">Not available</span> will block onboarding.</div>
          </div>

          <div class="item">
            <div class="row">
              <div>
                <label for="addrType">Proof of address document</label>
                <select id="addrType">
                  <option value="">Select a document</option>
                  <option>Electricity bill</option>
                  <option>Water bill</option>
                  <option>Property tax receipt</option>
                  <option>Bank statement with address</option>
                  <option>Lease agreement</option>
                  <option>Other</option>
                  <option>Not available</option>
                </select>
              </div>
              <div>
                <label for="addrOther">If Other, specify</label>
                <input id="addrOther" type="text" placeholder="Type document name" />
              </div>
            </div>
            <div class="hint">Must be recent and show business name & address.</div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Meta account & Facebook access</h2>
        <div class="items">
          <div class="item">
            <label>Access to Meta Business Account admin page</label>
            <select id="mbm_admin">
              <option value="">Select</option>
              <option value="admin">I have admin access</option>
              <option value="employee">I have employee access only</option>
              <option value="none">No access</option>
            </select>
            <div class="hint">Admin access is required for setup.</div>
          </div>

          <div class="item">
            <label>Multi‑factor authentication on Meta admin</label>
            <select id="mbm_mfa">
              <option value="">Select</option>
              <option value="all_admins">Enabled for all admins</option>
              <option value="some_admins">Enabled for some admins</option>
              <option value="none">Not enabled</option>
            </select>
            <div class="hint">Recommended for all admins (advisory only).</div>
          </div>

          <div class="item">
            <label>Personal Facebook account available for initial access</label>
            <select id="fb_personal">
              <option value="">Select</option>
              <option value="available">Available</option>
              <option value="not">Not available</option>
            </select>
          </div>

          <div class="item">
            <label>Business Facebook Page created</label>
            <select id="fb_page_created">
              <option value="">Select</option>
              <option value="yes">Yes</option>
              <option value="no">No</option>
              <option value="not_sure">Not sure</option>
            </select>
            <div class="row" id="fb_page_name_row" style="display:none">
              <div>
                <label for="fb_page_name">Business Facebook Page name</label>
                <input id="fb_page_name" type="text" placeholder="Type page name" />
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Phone number plan</h2>
        <div class="items">
          <div class="item">
            <label>Number plan</label>
            <select id="num_plan">
              <option value="">Select</option>
              <option value="new_unused">New number never used on WhatsApp</option>
              <option value="migrate_to_api">Existing WhatsApp number will be migrated to API</option>
              <option value="existing_cannot_use">Existing number used on WhatsApp app cannot be used</option>
              <option value="not_decided">Not decided yet</option>
            </select>
            <div class="hint">New or migration are acceptable options.</div>
          </div>

          <div class="item">
            <label>OTP reachability</label>
            <select id="num_otp">
              <option value="">Select</option>
              <option value="can_receive">Can receive SMS or voice OTP</option>
              <option value="cannot_receive">Cannot receive OTP</option>
            </select>
          </div>

          <div class="item">
            <label>Number type</label>
            <select id="num_type">
              <option value="">Select</option>
              <option value="physical">Physical SIM mobile or landline (not virtual)</option>
              <option value="virtual">Virtual or VoIP (not allowed)</option>
            </select>
          </div>

          <div class="row">
            <div>
              <label for="number">Planned WhatsApp number</label>
              <input id="number" type="tel" placeholder="+91 xxxxx xxxxx" />
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>Digital presence</h2>
        <div class="items">
          <div class="item">
            <label>Website with HTTPS and SSL</label>
            <select id="website">
              <option value="">Select</option>
              <option value="available">Available</option>
              <option value="not">Not available</option>
            </select>
          </div>
          <div class="item">
            <label>Business support email</label>
            <select id="email">
              <option value="">Select</option>
              <option value="available">Available</option>
              <option value="not">Not available</option>
            </select>
          </div>
          <div class="row">
            <div>
              <label for="site">Website URL</label>
              <input id="site" type="url" placeholder="https://www.yourbrand.com" />
            </div>
            <div>
              <label for="mail">Support email</label>
              <input id="mail" type="email" placeholder="support@yourbrand.com" />
            </div>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>What’s missing</h2>
        <div id="missing" class="item"></div>
      </div>
    </section>
  </main>

  <div class="footer-cta">
    <div class="wrap" style="display:flex; justify-content:space-between; align-items:center; gap:12px;">
      <div>
        <div class="pill" id="footerPill">Action needed</div>
      </div>
      <div class="btns">
        <button class="btn primary" id="ready" disabled>I'm ready for onboarding</button>
      </div>
    </div>
  </div>

<script>
  const body = document.getElementById('body');
  document.getElementById('theme').addEventListener('click', () => {
    body.classList.toggle('light');
    localStorage.setItem('tittu_theme', body.classList.contains('light') ? 'light' : 'dark');
  });
  (function initTheme(){
    const t = localStorage.getItem('tittu_theme');
    if (t === 'dark') body.classList.remove('light');
  })();

  const fields = [
    "docType","docOther","addrType","addrOther",
    "mbm_admin","mbm_mfa",
    "fb_personal","fb_page_created","fb_page_name",
    "num_plan","num_otp","num_type","number",
    "website","email","site","mail"
  ];
  const availabilityForProgress = ["mbm_admin","fb_personal","fb_page_created","num_plan","num_otp","num_type","website","email"];
  const totalAvail = availabilityForProgress.length;

  const bar = document.getElementById("bar");
  const count = document.getElementById("count");
  const pct = document.getElementById("pct");
  const exportBtn = document.getElementById("export");
  const readyBtn = document.getElementById("ready");
  const missingBox = document.getElementById("missing");
  const statusPill = document.getElementById("statusPill");
  const statusText = document.getElementById("statusText");
  const footerPill = document.getElementById("footerPill");
  const fbPageCreated = document.getElementById("fb_page_created");
  const fbPageNameRow = document.getElementById("fb_page_name_row");
  const fbPageName = document.getElementById("fb_page_name");

  function load() {
    fields.forEach(id => {
      const el = document.getElementById(id);
      const v = localStorage.getItem("tittu_" + id);
      if (v !== null) el.value = v;
    });
    togglePageName();
    compute();
  }
  function save() { fields.forEach(id => localStorage.setItem("tittu_" + id, document.getElementById(id).value)); }
  function resetAll() { fields.forEach(id => localStorage.removeItem("tittu_" + id)); location.reload(); }
  function togglePageName() { fbPageNameRow.style.display = fbPageCreated.value === "yes" ? "grid" : "none"; }
  function val(id) { return document.getElementById(id).value; }
  function isPositive(id) {
    const v = val(id);
    if (id === "mbm_admin") return v === "admin";
    if (id === "fb_personal") return v === "available";
    if (id === "fb_page_created") return v === "yes";
    if (id === "num_plan") return v === "new_unused" || v === "migrate_to_api";
    if (id === "num_otp") return v === "can_receive";
    if (id === "num_type") return v === "physical";
    if (id === "website") return v === "available";
    if (id === "email") return v === "available";
    return false;
  }

  function compute() {
    const available = availabilityForProgress.filter(id => isPositive(id)).length;
    const percent = Math.round((available / totalAvail) * 100);
    bar.style.width = percent + "%";
    count.textContent = available + " of " + totalAvail;
    pct.textContent = percent + "%";

    const missing = [];
    const docType = val("docType");
    const docOther = document.getElementById("docOther").value.trim();
    if (!docType) missing.push("Select a registration document.");
    if (docType === "Other" && !docOther) missing.push("Specify the “Other” registration document.");

    const addrType = val("addrType");
    const addrOther = document.getElementById("addrOther").value.trim();
    if (!addrType) missing.push("Select a proof of address document.");
    if (addrType === "Other" && !addrOther) missing.push("Specify the “Other” address document.");

    if (!val("mbm_admin")) missing.push("Select your Meta admin access.");
    if (!val("mbm_mfa")) missing.push("Select your Meta admin MFA status.");
    if (!val("fb_personal")) missing.push("Confirm personal Facebook account availability.");
    if (!val("fb_page_created")) missing.push("Confirm Business Facebook Page creation.");
    if (val("fb_page_created") === "yes" && !fbPageName.value.trim()) missing.push("Enter Business Facebook Page name.");

    if (!val("num_plan")) missing.push("Select your phone number plan.");
    if (!val("num_otp")) missing.push("Select OTP reachability.");
    if (!val("num_type")) missing.push("Select number type.");
    if (!val("website")) missing.push("Select website availability.");
    if (!val("email")) missing.push("Select support email availability.");

    missingBox.innerHTML = missing.length
      ? "<ul style='margin:0; padding-left:18px;'>" + missing.map(s => "<li>" + s + "</li>").join("") + "</ul>"
      : "<div class='pill ok'>All good — no missing inputs</div>";

    const hardBlock =
      docType === "Not available" || docType === "Other" ||
      addrType === "Not available" || addrType === "Other" ||
      val("mbm_admin") !== "admin" ||
      val("fb_personal") !== "available" ||
      val("fb_page_created") !== "yes" || !fbPageName.value.trim() ||
      val("num_plan") === "existing_cannot_use" || val("num_plan") === "not_decided" ||
      val("num_otp") === "cannot_receive" ||
      val("num_type") === "virtual" ||
      val("website") !== "available" || val("email") !== "available";

    const softWarn = val("mbm_mfa") !== "all_admins";

    if (hardBlock) {
      exportBtn.disabled = false;
      readyBtn.disabled = true;
      statusPill.textContent = "Blocked";
      statusPill.className = "pill err";
      footerPill.className = "pill err";
      footerPill.textContent = "Blocked";
      statusText.textContent = "Documents or access are missing. Please resolve the blocked items to proceed.";
    } else if (missing.length > 0) {
      exportBtn.disabled = true;
      readyBtn.disabled = true;
      statusPill.textContent = "Action needed";
      statusPill.className = "pill warn";
      footerPill.className = "pill warn";
      footerPill.textContent = "Action needed";
      statusText.textContent = "Please complete the fields to get a decision.";
    } else {
      exportBtn.disabled = false;
      if (softWarn) {
        readyBtn.disabled = false;
        statusPill.textContent = "Ready with advisory";
        statusPill.className = "pill warn";
        footerPill.className = "pill warn";
        footerPill.textContent = "Ready with advisory";
        statusText.textContent = "You can onboard now. Enable multi‑factor authentication for all admins when possible.";
      } else {
        readyBtn.disabled = false;
        statusPill.textContent = "All set";
        statusPill.className = "pill ok";
        footerPill.className = "pill ok";
        footerPill.textContent = "All set";
        statusText.textContent = "Yes — you are ready to onboard.";
      }
    }
  }

  function exportReport() {
    const data = {}; fields.forEach(id => data[id] = val(id));
    data.timestamp = new Date().toISOString();
    const lines = [
      "Tittu Customer Readiness Report",
      "Timestamp " + data.timestamp, "",
      "Registration document " + (data.docType || "not selected"),
      "Address document " + (data.addrType || "not selected"), "",
      "Meta account and Facebook access",
      "- Admin page access " + (data.mbm_admin || "not selected"),
      "- MFA on admin " + (data.mbm_mfa || "not selected"),
      "- Personal Facebook account " + (data.fb_personal || "not selected"),
      "- Business Facebook Page " + (data.fb_page_created || "not selected") + (data.fb_page_created === "yes" ? " (" + (document.getElementById('fb_page_name').value.trim() || "no name provided") + ")" : ""), "",
      "Phone number plan",
      "- Plan " + (data.num_plan || "not selected"),
      "- OTP reachability " + (data.num_otp || "not selected"),
      "- Number type " + (data.num_type || "not selected"),
      "Planned WhatsApp number " + (data.number || "not provided"), "",
      "Digital presence",
      "- Website " + (data.website || "not selected") + " " + (data.site || ""),
      "- Support email " + (data.email || "not selected") + " " + (data.mail || "")
    ].join("\n");
    const blob = new Blob([lines], { type: "text/plain" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a"); a.href = url; a.download = "Tittu_Customer_Readiness_Report.txt";
    document.body.appendChild(a); a.click();
    setTimeout(() => { document.body.removeChild(a); URL.revokeObjectURL(url); }, 0);
  }

  document.getElementById("save").addEventListener("click", () => { save(); compute(); });
  document.getElementById("reset").addEventListener("click", resetAll);
  document.getElementById("print").addEventListener("click", () => window.print());
  document.getElementById("export").addEventListener("click", exportReport);
  document.getElementById("ready").addEventListener("click", () => alert("Awesome — you’re ready. Our team will reach out to schedule activation."));
  document.getElementById("fb_page_created").addEventListener("change", () => { togglePageName(); compute(); });
  fields.forEach(id => {
    const el = document.getElementById(id);
    el.addEventListener("change", compute);
    if (el.tagName === "INPUT") el.addEventListener("input", compute);
  });
  load();
</script>
</body>
</html>
